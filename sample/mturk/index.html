<head>
  <title>MTurk Page</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <style>

    html, body {
      height: 100%;
    }

    body {
      display: -ms-flexbox;
      display: flex;
      -ms-flex-align: center;
      align-items: center;
      padding-top: 40px;
      padding-bottom: 40px;
      background-color: #f5f5f5;
    }

    #worker-form {
      width: 100%;
      max-width: 80%;
      padding: 15px;
      margin: auto;
    }

    #worker-form .jumbotron {
      margin-top: 2%;
    }

    #worker-form #token-output-container {
      width: 75%;
      margin: auto;
    }

    #worker-form .form-control {
      position: relative;
      box-sizing: border-box;
      height: auto;
      padding: 10px;
      font-size: 16px;
      border-radius: 0;
    }

    #worker-form button {
      border-radius: 0;
    }

    #worker-form .form-control:focus {
      z-index: 2;
    }

  </style>
  <script src="https://assets.crowd.aws/crowd-html-elements.js"></script>
</head>

<crowd-form id="worker-form" answer-format="flatten-objects">
  <div class="jumbotron">
    <h1 class="display-4">Crodwsourcing Skeleton</h1>
    <p class="lead">Follow the link, perform the task and copy your output token below.</p>
    <hr class="my-4">
    <p><a href="https://crowdsourcing-skeleton.com">https://crowdsourcing-skeleton.com</a></p>
    <p id="token-output-container" class="lead">
      <input type="text" id="token-output" name="token_output" class="form-control" placeholder="e.g., token_input_1" required>
      <button id="submit-button" class="btn btn-lg btn-primary btn-block" disabled="true" value="submit" type="submit">Submit</button>
    </p>
  </div>
</crowd-form>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<script>

    let workerForm = $("#worker-form");
    let tokenOutput = $("#token-output");
    let submitButton = $("#submit-button");
    tokenOutput.on("change", () => {
        /* The following token_output_1 must be replaced with the variable name inside input.csv when deployed */
        if(tokenOutput.val()=== `token_output_1`) submitButton.prop("disabled", false); else submitButton.prop("disabled", true);
    });

</script>
